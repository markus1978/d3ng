
<div class="grid">
  <div class="col-4-12" style="overflow: auto;">
    <p>
      1. Choose the data-sets that you want to visualize. (Right click deselects all.)
    </p>
    <d3ng-collapsible-indented-tree #meta d3ngSource [source]="metaDataList" pattern="."
                                    [multiselect]="true" (selectedChange)="setDimensions($event)">

    </d3ng-collapsible-indented-tree>
  </div>
  <div class="col-8-12" style="padding-left: 30px">
    <p>
      2. Use the parallel coordinates to filter outliers and other unwanted data points by clicking and
      dragging vertically on an axis. You can use the small arrow heads to spread or compress the axis projections.
    </p>
    <d3ng-groups [context]="context" [groups]="[1]" (selectedChanged)="countries = $event.selected">
      <d3ng-parallel-coordinates #pc [data]="data" [dimensions]="dimensions"></d3ng-parallel-coordinates>
    </d3ng-groups>
    <p>
      3. You can also select data points by country. (Right click deselects all.)
    </p>
    <d3ng-groups [context]="context" [groups]="[0,2,1]">
      <d3ng-map [data]="data" idKey="code" [currentSelectionGroup]="1" [multiselect]="true"></d3ng-map>
    </d3ng-groups>

    <div class="grid" *ngIf="countries">
      <p>
        4. Analyse the data of the selected countries. Select via clicking and dragging. Click the colored boxes to switch the selection color.
      </p>
      <div class="col-4-12">
        <d3ng-groups [context]="context" [groups]="[0,2]" style="width: 100%; height: 260px;">
          <d3ng-scatter-plot [data]="countries" [dimensions]='dimensions' [config]="{ticks: [5, 5]}">
          </d3ng-scatter-plot>
        </d3ng-groups>
      </div>
      <div class="col-4-12">
        <d3ng-groups [context]="context" [groups]="[0,2]" style="width: 100%; height: 260px;">
          <d3ng-scatter-plot [data]="countries" [dimensions]='dimensions' [config]="{ticks: [5, 5]}">
          </d3ng-scatter-plot>
        </d3ng-groups>
      </div>
      <div class="col-4-12">
        <d3ng-groups [context]="context" [groups]="[0,2]" style="width: 100%; height: 260px;">
          <d3ng-scatter-plot [data]="countries" [dimensions]='dimensions' [config]="{ticks: [5, 5]}">
          </d3ng-scatter-plot>
        </d3ng-groups>
      </div>
    </div>
  </div>
</div>

